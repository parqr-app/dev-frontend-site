{"version":3,"file":"component---src-pages-plate-lot-lot-name-index-js-458433c9202b0ff79c4e.js","mappings":"4OAYMA,GAAgBC,EAAAA,EAAAA,GAAW,+GAiDjC,EA5CqB,SAACC,GAElB,IAAMC,EAAUD,EAAMC,QACtB,GAA8BC,EAAAA,EAAAA,UAAS,IAAhCC,EAAP,KAAgBC,EAAhB,KA6BA,OArBAC,EAAAA,EAAAA,YAAU,WACN,OAAOC,MAfMC,+CAec,CACvBC,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,OAAU,oBAEdC,KAAMC,KAAKC,UAAU,CACjBC,MAdE,mHAeFC,UAAW,CAAEb,QAASA,OAGzBc,MAAK,SAAAC,GAAC,OAAIA,EAAEC,UACZF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACZd,EAAWc,EAAKA,KAAKG,IAAIlB,eAOjC,gBAAC,EAAAmB,SAAD,CAAUC,OAAQzB,GACd,gBAAC,IAAD,MACA,gBAAC,EAAA0B,WAAD,CACIrB,QAASA,EACTkB,IAAKpB","sources":["webpack://par-qr-app/./src/pages/plate/lot/[lotName]/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport moment from 'moment';\n\nimport { Header } from '../../../../components/common/header.js';\nimport { SelectTime } from '../../../../components/plate/select-time.js';\nimport { Checkout } from '../../../../components/plate/checkout.js';\n\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\n\nimport '../../../../css/main.css';\n\nconst stripePromise = loadStripe('pk_test_51JZT7fLBm4Ihz0NC9q5UNwoiPHEXAVSI1BqpVSOmlKgiquacCqKcpEV888D0RJU88AjGzO0lP9tC7lOKfInIVOQE00vFS4dAz5');\n\nconst queryService = process.env.GATSBY_BE_URL;\n\n\nconst CustomerPage = (props) => {\n\n    const lotName = props.lotName;\n    const [options, setOptions] = useState([]);\n\n    const lotQuery = `query lotQuery($lotName: ID!) {\n        lot(input: {lotName: $lotName}) {\n            offers\n        }\n    }`;\n\n    useEffect(() => {\n        return fetch(queryService, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n            },\n            body: JSON.stringify({\n                query: lotQuery,\n                variables: { lotName: lotName },\n            })\n        })\n            .then(r => r.json())\n            .then(data => {\n                console.log(data);\n                setOptions(data.data.lot.options);\n            })\n\n    })\n\n\n    return (\n        <Elements stripe={stripePromise}>\n            <Header />\n            <SelectTime\n                options={options}\n                lot={lotName}\n            />\n        </Elements>\n    );\n\n}\n\nexport default CustomerPage;"],"names":["stripePromise","loadStripe","props","lotName","useState","options","setOptions","useEffect","fetch","process","method","headers","body","JSON","stringify","query","variables","then","r","json","data","console","log","lot","Elements","stripe","SelectTime"],"sourceRoot":""}